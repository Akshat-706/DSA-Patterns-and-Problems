<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>N-Queens Problem - CodeDSA</title>
  <link rel="stylesheet" href="../../CSS/AllProblems.css">
  <link rel="stylesheet" href="../../CSS/breadcrumb.css">
  <link rel="stylesheet" href="../../CSS/snake.css">
  <link rel="stylesheet" href="../../CSS/copyToClipboard.css">
  <link rel="stylesheet" href="../../CSS/leetcodeButton.css">
</head>
<body>

  <nav class="navbar">
     <a href="../../index.html" class="logo-container">
      <div class="logo-img">
        <img src="../../Images/logo.png" alt="Logo">
      </div>
      <div class="logo">CodeDSA</div>
    </a>
    <div class="nav-right">
    <ul class="nav-links">
      <li><a href="../../index.html">Home</a></li>
      <li><a href="../../about.html">About</a></li>
      <li><a href="../../contact.html">Contact</a></li>
    </ul>
    <button id="snakeToggle" class="snake-btn"><span style="margin-left: 20px;">Snake Cursor</span></button>
    <button id="darkModeToggle" class="dark-mode-btn">ðŸŒ™ Dark Mode</button>
    </div>
  </nav>

  <div class="breadcrumb-container">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="../../index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="../Backtracking.html">Backtracking</a></li>
        <li class="breadcrumb-item active" aria-current="page">N-Queens Problem</li>
      </ol>
    </nav>
  </div>

  <main>
    <h1>N-Queens Problem</h1>
        <!--Leetcode link-->

    <p class="leetcode-link"><a href="https://leetcode.com/problems/n-queens/" target="_blank" rel="noopener noreferrer">LeetCode [Hard]</a></p>
<!--Print / Export control-->
<button onclick="window.print()" class="export-btn">ðŸ“„ Print/Save as PDF</button>
  <link rel="stylesheet" href="../../CSS/print.css" media="print">

    <section class="problem-section">
      <h2>Problem Statement</h2>
      <p>The n-queens puzzle is the problem of placing n queens on an n x n chessboard such that no two queens attack each other. Given an integer n, return all distinct solutions to the n-queens puzzle. Each solution contains a distinct board configuration where 'Q' and '.' indicate a queen and an empty space, respectively.</p>
      <p><strong>Example:</strong> Input: n = 4 â†’ Output: [[".Q..","...Q","Q...","..Q."],["..Q.","Q...","...Q",".Q.."]]</p>
    </section>

    <section class="approach-section">
      <h2>Approach 1: Simple Backtracking</h2>
      <p><strong>Explanation (Brute):</strong> Place one queen per row. Recursively try each column, check full board validity, and backtrack if invalid.</p>
      <p><strong>Time Complexity:</strong> O(N!)</p>
      <p><strong>Space Complexity:</strong> O(N*N)</p>
      <pre class="pseudo-code">
function solveNQueens(n):
    board = create empty n*n board
    result = []
    backtrack(result, board, 0) // Start from row 0
    return result

function backtrack(result, board, row):
    if row == n:
        add formatted board to result
        return
    for col from 0 to n-1:
        if is_valid(board, row, col):
            board[row][col] = 'Q'
            backtrack(result, board, row + 1)
            board[row][col] = '.' // Backtrack
      </pre>
      <button class="copyToClipboard" onclick="copyToClipboard(this)">Copy!</button>
      <p class="think-line">ðŸ’¡ <strong>Think:</strong> Place queens row by row and backtrack whenever a conflict is found.</p>
    </section>

    <section class="approach-section">
      <h2>Approach 2: Backtracking with O(1) Validity Check</h2>
      <p><strong>Explanation (Better/Optimal):</strong> Track occupied columns, positive diagonals (row-col), and negative diagonals (row+col) with sets or boolean arrays to quickly check validity.</p>
      <p><strong>Time Complexity:</strong> O(N!)</p>
      <p><strong>Space Complexity:</strong> O(N*N) for board + O(N) for tracking sets</p>
      <pre class="pseudo-code">
// Initialize sets
occupied_cols = set()
occupied_pos_diags = set()
occupied_neg_diags = set()

function backtrack(result, board, row):
    if row == n: ...
    for col from 0 to n-1:
        if col in occupied_cols or (row-col) in occupied_pos_diags or (row+col) in occupied_neg_diags:
            continue // Invalid
        place_queen(row, col)
        backtrack(result, board, row + 1)
        remove_queen(row, col) // Backtrack
      </pre>
      <button class="copyToClipboard" onclick="copyToClipboard(this)">Copy!</button>
      <p class="think-line">ðŸ’¡ <strong>Think:</strong> Keep track of occupied columns and diagonals to avoid scanning the entire board repeatedly.</p>
    </section>

    <section class="approach-section">
      <h2>Approach 3: Bitmasking</h2>
      <p><strong>Explanation (Advanced):</strong> Use integers as bitmasks to represent columns and diagonals for extremely fast validity checks. Each bit indicates whether a position is occupied.</p>
      <p><strong>Time Complexity:</strong> O(N!)</p>
      <p><strong>Space Complexity:</strong> O(N) recursion stack</p>
      <pre class="pseudo-code">
// col_mask, pos_diag_mask, neg_diag_mask as integers

function backtrack(row, col_mask, pos_diag_mask, neg_diag_mask):
    if row == n: ...
    available_positions = ((1 << n) - 1) & ~(col_mask | pos_diag_mask | neg_diag_mask)
    while available_positions > 0:
        position = available_positions & -available_positions
        available_positions &= ~position
        backtrack(row + 1, col_mask | position, (pos_diag_mask | position) << 1, (neg_diag_mask | position) >> 1)
      </pre>
      <button class="copyToClipboard" onclick="copyToClipboard(this)">Copy!</button>
      <p class="think-line">ðŸ’¡ <strong>Think:</strong> Use bitmasking to quickly track available columns and diagonals for optimized backtracking.</p>
    </section>

  </main>

  <footer>
    <p>&copy; 2025 Mrunalini Pachpute. All rights reserved.</p>
  </footer>

  <script src="../../index.js"></script>
  <script src="../../copyToClipboard.js"></script>
  <script src="../../JS/problemTracker.js"></script>
</body>
</html>
